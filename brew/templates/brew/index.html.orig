<html>

<head>
    <meta name="viewport" content="width=device-width, user-scalable=no">
<<<<<<< HEAD
    <title>레시피 만들기</title>
=======

    <title>술친구</title>
>>>>>>> 8914983fbb679d7793c5b4209c760e4f657966c1
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
        <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
  </head>
<body>
<div class="container"> 
<div class="page-header">
    
    <h1 class="display-5">레시피 만들기 
      <span class="pull-right">
          <a href="/" class="btn btn-default" role="button">
            <div class="hidden-xs" align="center">
                가양주 계산기 
            </div>
            <div class="visible-xs " align="center">
                ㄱㄱ
            </div>
          </a> 
      </span>
    </h1>
    </div>
    
</div>
<div class="container">
<div class="panel panel-default">
    <div class="panel-heading">쌀과 물의 양을 계산하고 결과물의 양을 계산</div>
    <div class="panel-heading"><small><span class="glyphicon glyphicon-plus gs"></span>를 눌러 작업을 추가, </small>
      <small><span class="glyphicon glyphicon-minus gs"></span>를 눌러 작업을 제거</small></div>
    <div class="panel-body">
    
    <div id="ingredient_filed"></div>

        <div class="btn-group btn-block">
          <button class="btn btn-success btn-block" type="button"  onclick="ingredient_filed();"> <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> </button>
        </div>
      </div>

    <div class="panel-footer">
      <button class="btn btn-default" onclick="calculateRW()">계산</button><p class="text-center" id="expected">계산을 눌러주세요</p>
    </div>


    <!-- <div class="panel-footer">
      <small><em><a href="http://">sul79.com copyright</a></em></small>
    </div> -->

    </div>


<script>
var room = 0;
function ingredient_filed() {
 
    room++;
    var objTo = document.getElementById('ingredient_filed')
    var divtest = document.createElement("div");
	divtest.setAttribute("class", "form-group removeclass"+room);
	var rdiv = 'removeclass'+room;
    divtest.innerHTML = '<div class="col-sm-2 nopadding"><div class="form-group"> <input type="number" class="form-control" id="rice" name="rice" value="" placeholder="쌀"></div></div><div class="col-sm-2 nopadding"><div class="form-group"> <input type="number" class="form-control" id="water" name="water" value="" placeholder="물"></div></div><div class="col-sm-2 nopadding"><div class="form-group"> <input type="number" class="form-control" id="yeast" name="yeast" value="" placeholder="누룩"></div></div><div class="col-sm-2 nopadding"><div class="form-group"> <input type="number" class="form-control" id="flour" name="flour" value="" placeholder="밀가루"></div></div><div class="col-sm-2 nopadding"><div class="form-group"> <input type="number" class="form-control" id="subMaterials" name="subMaterials" value="" placeholder="부재료"></div></div><div class="col-sm-2 nopadding"><div class="form-group"><div class="input-group"><input type="number" class="form-control" id="interval" name="interval" value="" placeholder="기간"><div class="input-group-btn"> <button class="btn btn-danger" type="button" onclick="remove_ingredient_filed('+ room +');"> <span class="glyphicon glyphicon-minus" aria-hidden="true"></span> </button></div></div></div></div><div class="clear"></div>';
    
    objTo.appendChild(divtest)
}

function remove_ingredient_filed(rid) {
  $('.removeclass'+rid).remove();
}


function calculateRW() {
  var totalRice = 0;
  var totalWater = 0;
  var totalYeast = 0;
  var totalFlour = 0;
  var totalSubMaterials = 0;
  var totalIntervals = 0;


  for (i = 0; i < room; i++) {
    totalRice += Number(document.getElementsByName("rice")[i].value);
    totalWater += Number(document.getElementsByName("water")[i].value);
    totalYeast += Number(document.getElementsByName("yeast")[i].value);
    totalFlour += Number(document.getElementsByName("flour")[i].value);
    totalSubMaterials += Number(document.getElementsByName("subMaterials")[i].value);
    totalIntervals += Number(document.getElementsByName("interval")[i].value);

  }
  document.getElementById("expected").innerHTML="전체 쌀 : " +totalRice+ ", 전체 물 : " +totalWater+", 전체 술 : " +Number(totalRice+totalWater)+ ", 쌀과 물의 비율 : " +(Number(totalRice/(totalRice+totalWater))*100).toFixed(1)+" 대 "+(Number(totalWater/(totalRice+totalWater))*100).toFixed(1)+", 전체 누룩 : "+totalYeast+", 전체 밀가루 : "+totalFlour+", 전체 부재료 : "+totalSubMaterials+", 총 기간 : "+totalIntervals;
}

</script>

</body>

</html>
