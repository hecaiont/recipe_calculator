<html>

<head>
    <title>레시피 만들기</title>
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
        <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
  </head>
<body>
<div class="container"> 
<div class="page-header">
    
    <h1 class="display-5">레시피 만들기 <small>beta 1.0</small>
      <span class="pull-right">
          <a href="/" class="btn btn-default" role="button">
              계산기
          </a> 
      </span>
    </h1>
    </div>
    
</div>
<div class="container">
<div class="panel panel-default">
    <div class="panel-heading">쌀과 물 양 계산</div>
    <div class="panel-body">
    
    <div id="ingredient_filed"></div>

        <div class="btn-group btn-block">
          <button class="btn btn-success btn-block" type="button"  onclick="ingredient_filed();"> <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> </button>
        </div>
      </div>

    <div class="panel-footer">
      <button class="btn btn-info" onclick="calculateRW()">계산</button> <span id="expected"></span>
    </div>
    <div class="panel-footer">
      <small><span class="glyphicon glyphicon-plus gs"></span>를 눌러서 필드를 추가</small>, 
      <small><span class="glyphicon glyphicon-minus gs"></span>를 눌러서 필드를 제거</small>
    </div>
    <!-- <div class="panel-footer">
      <small><em><a href="http://">sul79.com copyright</a></em></small>
    </div> -->

    </div>


<script>
var room = 0;
function ingredient_filed() {
 
    room++;
    var objTo = document.getElementById('ingredient_filed')
    var divtest = document.createElement("div");
	divtest.setAttribute("class", "form-group removeclass"+room);
	var rdiv = 'removeclass'+room;
    divtest.innerHTML = '<div class="col-sm-2 nopadding"><div class="form-group"> <input type="text" class="form-control" id="rice" name="rice" value="" placeholder="쌀"></div></div><div class="col-sm-2 nopadding"><div class="form-group"> <input type="text" class="form-control" id="water" name="water" value="" placeholder="물"></div></div><div class="col-sm-2 nopadding"><div class="form-group"> <input type="text" class="form-control" id="yeast" name="yeast" value="" placeholder="누룩"></div></div><div class="col-sm-2 nopadding"><div class="form-group"> <input type="text" class="form-control" id="flour" name="flour" value="" placeholder="밀가루"></div></div><div class="col-sm-2 nopadding"><div class="form-group"> <input type="text" class="form-control" id="sub materials" name="sub materials" value="" placeholder="부재료"></div></div><div class="col-sm-2 nopadding"><div class="form-group"><div class="input-group"> <select class="form-control" id="ingredientDate" name="ingredientDate"><option value="">기간</option><option value="하루">하루</option><option value="이틀">이틀</option><option value="사흘">사흘</option><option value="나흘">나흘</option> </select><div class="input-group-btn"> <button class="btn btn-danger" type="button" onclick="remove_ingredient_filed('+ room +');"> <span class="glyphicon glyphicon-minus" aria-hidden="true"></span> </button></div></div></div></div><div class="clear"></div>';
    
    objTo.appendChild(divtest)
}

function remove_ingredient_filed(rid) {
  $('.removeclass'+rid).remove();
}


function calculateRW() {
  var totalRice = 0;
  var totalWater = 0;

  for (i = 0; i < room; i++) {
    totalRice += Number(document.getElementsByName("rice")[i].value);
    totalWater += Number(document.getElementsByName("water")[i].value);
  }
  document.getElementById("expected").innerHTML="전체 쌀 : " +totalRice+ " 전체 물 : " +totalWater+" 전체 술 : " +Number(totalRice+totalWater) ;
}

</script>

</body>

</html>
